<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TransmisiÃ³n en Vivo</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    
    <link rel="stylesheet" href="styles.css?v=55">
    
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet">
</head>
<body>
    <div id="waitingScreen" class="waiting-screen">
        <div class="waiting-content">
            <div class="pulse-animation">
                <div class="pulse-dot"></div>
            </div>
            <h1>â³ Esperando transmisiÃ³n...</h1>
            <p>La transmisiÃ³n comenzarÃ¡ pronto</p>
        </div>
    </div>

    <div id="streamContainer" class="stream-container" style="display: none;">
        
        <div class="stream-header" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
            <div class="live-badge">
                <span class="live-dot"></span> TRANSMISIÃ“N EN VIVO
            </div>
            
            <div style="display: flex; gap: 15px; align-items: center;">
                <button class="help-btn" onclick="toggleGuide()">
                    <span>â“</span> Configurar Subtitulos
                </button>
                
                <button id="btnAI" class="ai-toggle-btn" onclick="toggleAI()">
                    <span>ğŸ™ï¸</span> SubtÃ­tulos IA 74%
                </button>
            </div>
        </div>

        <div class="video-wrapper">
            <div id="aiCaptions" class="ai-caption-box"></div>

            <video 
                id="mainPlayer" 
                class="video-js vjs-big-play-centered vjs-fluid" 
                controls 
                preload="auto" 
                style="display:none;">
            </video>

            <iframe 
                id="genericFrame" 
                style="display:none; width:100%; height:100%; position:absolute; top:0; left:0; border:none;" 
                allowfullscreen 
                allow="autoplay; encrypted-media; picture-in-picture">
            </iframe>
        </div>

        <div class="stream-footer">
            <div class="donation-section">
                <h3>ğŸ’– Apoya esta transmisiÃ³n</h3>
                <div class="donation-content">
                    <div class="donation-text">
                        <p>Â¿Te gusta el contenido? Â¡ApÃ³yanos con una donaciÃ³n!</p>
                        <p class="donation-methods">EnvÃ­a tu Yape o Plin â†’</p>
                    </div>
                    <div class="donation-qr">
                        <img id="yapeQR" src="imagenes/yape.png" alt="QR Yape" onerror="this.style.display='none';">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="audioGuide" class="modal-guide" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-btn" onclick="toggleGuide()">&times;</span>
            
            <div id="guide-mobile" style="display: none;">
                <h2 style="border-bottom: 2px solid #eee; padding-bottom: 10px;">ğŸ“± Modo Celular Detectado</h2>
                <div style="margin-top: 15px;">
                    <p style="font-size: 1.1rem; color: #333; margin-bottom: 15px;">En celulares no necesitas configurar nada complejo. Solo sigue estas reglas:</p>
                    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; border-left: 5px solid #2196f3; margin-bottom: 15px;">
                        <h4 style="color: #0d47a1; margin-bottom: 5px;">ğŸ”Š 1. Sube el Volumen</h4>
                        <p style="color: #555; margin: 0;">El video debe sonar fuerte.</p>
                    </div>
                    <div style="background: #ffebee; padding: 15px; border-radius: 8px; border-left: 5px solid #f44336;">
                        <h4 style="color: #b71c1c; margin-bottom: 5px;">ğŸš« 2. NO USES AUDÃFONOS</h4>
                        <p style="color: #555; margin: 0;">DesconÃ©ctalos para que el micrÃ³fono escuche.</p>
                    </div>
                </div>
            </div>

            <div id="guide-pc" style="display: none;">
                <h2 style="border-bottom: 2px solid #eee; padding-bottom: 10px;">ğŸ”§ GuÃ­a de ConfiguraciÃ³n (Paso a Paso)</h2>
                
                <div style="margin-top: 15px;">
                    <h4 style="color: #333; margin-bottom: 5px;">PASO 1: Activar en Windows ğŸ’»</h4>
                    <ul style="padding-left: 20px; color: #555; font-size: 0.95rem; margin-bottom: 15px;">
                        <li>Ve a "Panel de Control de Sonido" â†’ PestaÃ±a <strong>Grabar</strong>.</li>
                        <li>Si no ves "Mezcla EstÃ©reo", haz clic derecho en el fondo blanco y marca <strong>"Mostrar dispositivos deshabilitados"</strong>.</li>
                        <li>Haz clic derecho sobre "Mezcla EstÃ©reo" y dale a <strong>Activar</strong>.</li>
                    </ul>

                    <h4 style="color: #d63384; margin-bottom: 5px;">PASO 2: SelecciÃ³n en el Navegador (IMPORTANTE) ğŸŒ</h4>
                    <p style="font-size: 0.9rem; color: #666; margin-bottom: 5px;">AquÃ­ es donde la mayorÃ­a falla. Sigue esto exacto:</p>
                    <ol style="padding-left: 20px; line-height: 1.6; font-weight: bold; color: #333;">
                        <li>Mira arriba a la izquierda, en la barra de direcciÃ³n (donde estÃ¡ la URL).</li>
                        <li>Haz clic en el icono del candado ğŸ”’ o el micrÃ³fono ğŸ™ï¸.</li>
                        <li>Busca la opciÃ³n "MicrÃ³fono" y haz clic en la lista desplegable.</li>
                        <li style="color: #d63384; background: #fff0f5; padding: 5px; border-radius: 4px; margin-top: 5px;">CAMBIA "Predeterminado" POR "Mezcla estÃ©reo (Stereo Mix)".</li>
                    </ol>

                    <h4 style="color: #333; margin-top: 15px; margin-bottom: 5px;">PASO 3: Finalizar âœ…</h4>
                    <ul style="padding-left: 20px; color: #555;">
                        <li>Presiona la tecla <strong>F5</strong> para recargar la pÃ¡gina.</li>
                        <li>Sube el volumen de tus parlantes (El video debe sonar).</li>
                    </ul>
                </div>
            </div>

        </div>
    </div>

    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-youtube/2.6.1/Youtube.min.js"></script>
    
    <script src="script.js?v=55"></script>
</body>
</html>
